<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<formidable version="1.0.0"
	xmlns:datahandler="http://www.ameos.com/formidable/1.0.0/datahandler"
	xmlns:datasource="http://www.ameos.com/formidable/1.0.0/datasource"
	xmlns:renderer="http://www.ameos.com/formidable/1.0.0/renderer"
	xmlns:renderlet="http://www.ameos.com/formidable/1.0.0/renderlet"
	xmlns:validator="http://www.ameos.com/formidable/1.0.0/validator"
	xmlns:actionlet="http://www.ameos.com/formidable/1.0.0/actionlet">
	<meta>
		<name>Seminar Manager unregistration form</name>
		<description>This form allows FE users to unregister for events.</description>
		<form>
			<formid>tx_seminars_pi1_registration_editor</formid>
		</form>
		<debug>false</debug>
		<displaylabels>false</displaylabels>
	</meta>
	<control>
		<datahandler:RAW>
			<parentcallback>processUnregistration</parentcallback>
		</datahandler:RAW>
		<renderer:TEMPLATE>
			<template>
				<path>
					<userobj>
						<extension>this</extension>
						<method>getTemplatePath</method>
					</userobj>
				</path>
				<subpart>###REGISTRATION_EDITOR_UNREGISTRATION###</subpart>
				<errortag>errors</errortag>
			</template>
		</renderer:TEMPLATE>
		<actionlets>
			<actionlet:REDIRECT>
				<url>
					<userobj>
						<extension>this</extension>
						<method>getPageToShowAfterUnregistrationUrl</method>
					</userobj>
				</url>
			</actionlet:REDIRECT>
		</actionlets>
	</control>

	<elements>
		<renderlet:SUBMIT name="button_cancel">
			<onclick runat="server">
				<userobj>
					<php><![CDATA[
						header(
							'Location:'.$this->_oParent->plugin->pi_getPageLink(
									$this->_oParent->getConfValueInteger(
										'myEventsPID'
									)
								)
						);
					]]></php>
				</userobj>
			</onclick>
			<label>###LABEL_CANCEL###</label>
		</renderlet:SUBMIT>
		<renderlet:SUBMIT name="button_unregister">
			<label>###LABEL_UNREGISTER###</label>
		</renderlet:SUBMIT>
	</elements>
</formidable>
