<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<formidable version="0.5.0">
	<meta>
		<name>Seminar Manager registration form</name>
		<description>This form allows FE users to register for events.</description>
		<form>
			<formid>tx_seminars_pi1_registration_editor</formid>
		</form>
		<debug>false</debug>
		<displaylabels>true</displaylabels>
	</meta>
	<control>
		<datahandler:RAW>
			<parentcallback>showConfirmationPage</parentcallback>
		</datahandler:RAW>
		<renderer:STANDARD>
		</renderer:STANDARD>
	</control>

	<elements>
		<renderlet:RADIOBUTTON name="method_of_payment">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_method_of_payment</label>
			<data>
				<userobj>
					<extension>this</extension>
					<method>populateListPaymentMethods</method>
				</userobj>
			</data>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isMethodOfPaymentSelected</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_chooseMethodOfPayment</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>showMethodsOfPayment</method>
				</userobj>
			</process>
		</renderlet:RADIOBUTTON>

		<renderlet:TEXT name="account_number">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_account_number</label>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="account_number" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXT>
		<renderlet:TEXT name="bank_code">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_bank_code</label>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="bank_code" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXT>
		<renderlet:TEXT name="bank_name">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_bank_name</label>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="bank_name" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXT>
		<renderlet:TEXT name="account_owner">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_account_owner</label>
			<data>
				<defaultvalue>
					<userobj>
						<extension>this</extension>
						<method>getUserFullName</method>
					</userobj>
				</defaultvalue>
			</data>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="account_owner" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXT>

		<renderlet:TEXTAREA name="billing_address">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_billing_address</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="billing_address" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXT name="seats">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_seats</label>
			<data>
				<defaultvalue>1</defaultvalue>
			</data>
			<validators>
				<validator:PREG>
					<pattern>
						<value>/^[\d]*$/</value>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_noSeatsNumber</message>
					</pattern>
				</validator:PREG>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>canRegisterSeats</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_invalidNumberOfSeats</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="seats" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXT>

		<renderlet:TEXTAREA name="attendees_names">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_attendees_names</label>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasAttendeesNames</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideAttendeesNames</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="attendees_names" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="interests">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_interests</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="interests" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="expectations">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_expectations</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="expectations" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="background_knowledge">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_background_knowledge</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="background_knowledge" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="accommodation">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_accommodation</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="accommodation" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="food">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_food</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="food" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="known_from">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_known_from</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="known_from" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>

		<renderlet:TEXTAREA name="notes">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_notes</label>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="notes" />
					</params>
				</userobj>
			</process>
		</renderlet:TEXTAREA>
	</elements>

	<validation>
		<renderlet:SUBMIT name="btnsubmit">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_proceed_registration</label>
		</renderlet:SUBMIT>
	</validation>
</formidable>