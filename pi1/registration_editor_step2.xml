<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<formidable version="0.7.0">
	<meta>
		<name>Seminar Manager registration form</name>
		<description>This form allows FE users to register for events.</description>
		<form>
			<formid>tx_seminars_pi1_registration_editor</formid>
		</form>
		<debug>false</debug>
		<displaylabels>false</displaylabels>
	</meta>
	<control>
		<datahandler:RAW>
			<parentcallback>processRegistration</parentcallback>
		</datahandler:RAW>
		<renderer:TEMPLATE>
			<template>
				<path>
					<userobj>
						<extension>this</extension>
						<method>getTemplatePath</method>
					</userobj>
				</path>
				<subpart>###REGISTRATION_EDITOR_STEP_2###</subpart>
				<errortag>errors</errortag>
			</template>
		</renderer:TEMPLATE>
		<actionlets>
			<actionlet:REDIRECT>
				<url>
					<userobj>
						<extension>this</extension>
						<method>getThankYouAfterRegistrationUrl</method>
					</userobj>
				</url>
			</actionlet:REDIRECT>
		</actionlets>
	</control>

	<elements>
		<renderlet:LABEL name="feuser_data">
			<data>
				<value>
					<userobj>
						<extension>this</extension>
						<method>getAllFeUserData</method>
					</userobj>
				</value>
			</data>
		</renderlet:LABEL>

		<renderlet:LABEL name="billing_address">
			<data>
				<value>
					<userobj>
						<extension>this</extension>
						<method>getBillingAddress</method>
					</userobj>
				</value>
			</data>
		</renderlet:LABEL>

		<renderlet:LABEL name="registration_data">
			<data>
				<value>
					<userobj>
						<extension>this</extension>
						<method>getRegistrationData</method>
					</userobj>
				</value>
			</data>
		</renderlet:LABEL>

		<renderlet:CHECKBOX name="lodgings">
			<data>
				<userobj>
					<extension>this</extension>
					<method>populateLodgings</method>
				</userobj>
			</data>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isLodgingSelected</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_selectLodging</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasLodgings</method>
				</userobj>
			</process>
		</renderlet:CHECKBOX>

		<renderlet:CHECKBOX name="foods">
			<data>
				<userobj>
					<extension>this</extension>
					<method>populateFoods</method>
				</userobj>
			</data>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isFoodSelected</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_selectFood</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasFoods</method>
				</userobj>
			</process>
		</renderlet:CHECKBOX>

		<renderlet:CHECKBOX name="checkboxes">
			<data>
				<userobj>
					<extension>this</extension>
					<method>populateCheckboxes</method>
				</userobj>
			</data>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasCheckboxes</method>
				</userobj>
			</process>
		</renderlet:CHECKBOX>

		<renderlet:CHECKSINGLE name="terms">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="terms" />
					</params>
				</userobj>
			</process>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isChecked</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_acceptTerms</message>
					</userobj>
				</validator:STANDARD>
			</validators>
		</renderlet:CHECKSINGLE>

		<renderlet:CHECKSINGLE name="terms_2">
			<process>
				<userobj>
					<extension>this</extension>
					<method>isTerms2Enabled</method>
				</userobj>
			</process>
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isTerms2CheckedAndEnabled</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_acceptTerms2</message>
					</userobj>
				</validator:STANDARD>
			</validators>
		</renderlet:CHECKSINGLE>

		<renderlet:SUBMIT name="button_back">
			<refresh />
			<label>LLL:EXT:seminars/pi1/locallang.php:label_back_registration</label>
		</renderlet:SUBMIT>
		<renderlet:SUBMIT name="button_submit">
			<label>LLL:EXT:seminars/pi1/locallang.php:label_submit_registration</label>
		</renderlet:SUBMIT>

		<renderlet:HIDDEN name="price">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isValidPriceSelected</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_choosePrice</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="price" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="method_of_payment">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>isMethodOfPaymentSelected</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_chooseMethodOfPayment</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>showMethodsOfPayment</method>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="account_number">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasBankDataFormField</method>
					<params>
						<data name="elementname" value="account_number" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="bank_code">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasBankDataFormField</method>
					<params>
						<data name="elementname" value="bank_code" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="bank_name">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasBankDataFormField</method>
					<params>
						<data name="elementname" value="bank_name" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="account_owner">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasBankData</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideBankData</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasBankDataFormField</method>
					<params>
						<data name="elementname" value="account_owner" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="gender">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="gender" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="name">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="name" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="address">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="address" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="zip">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="zip" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="city">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="city" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="country">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="country" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="telephone">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="telephone" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
		<renderlet:HIDDEN name="email">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="email" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="seats">
			<validators>
				<validator:PREG>
					<pattern>
						<value>/^[\d]*$/</value>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_noSeatsNumber</message>
					</pattern>
				</validator:PREG>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>canRegisterSeats</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_invalidNumberOfSeats</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="seats" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="attendees_names">
			<validators>
				<validator:STANDARD>
					<userobj>
						<extension>this</extension>
						<method>hasAttendeesNames</method>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_provideAttendeesNames</message>
					</userobj>
				</validator:STANDARD>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="attendees_names" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="kids">
			<validators>
				<validator:PREG>
					<pattern>
						<value>/^[\d]*$/</value>
						<message>LLL:EXT:seminars/pi1/locallang.php:message_noKidsNumber</message>
					</pattern>
				</validator:PREG>
			</validators>
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="kids" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="interests">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="interests" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="expectations">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="expectations" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="background_knowledge">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="background_knowledge" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="accommodation">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="accommodation" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="food">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="food" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="known_from">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="known_from" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>

		<renderlet:HIDDEN name="notes">
			<process>
				<userobj>
					<extension>this</extension>
					<method>hasRegistrationFormField</method>
					<params>
						<data name="elementname" value="notes" />
					</params>
				</userobj>
			</process>
		</renderlet:HIDDEN>
	</elements>
</formidable>